<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<!-- 2022-12-04 日 21:36 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>221203</title>
<meta name="author" content="[[https://xiliuya.github.io/][xiliuya]]" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="/assets/org.css"/>
</head>
<body>
<div id="content" class="content">
<h1 class="title">221203</h1>
<div id="table-of-contents" role="doc-toc">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org319b592">1. 配置emacs</a>
<ul>
<li><a href="#org06b884c">1.1. 配置 evil 插入模式快捷键</a></li>
<li><a href="#org635c411">1.2. 配置 erc 使用</a></li>
<li><a href="#org1985778">1.3. 配置 org-roam 关联笔记</a>
<ul>
<li><a href="#org30f48cb">1.3.1. 基本使用</a></li>
<li><a href="#org4661c1c">1.3.2. 功能理解</a></li>
</ul>
</li>
<li><a href="#org9501908">1.4. 配置 espeak 朗读</a>
<ul>
<li><a href="#orgb7c6f91">1.4.1. 修改配置</a></li>
<li><a href="#org8c83b05">1.4.2. 实际分析</a></li>
</ul>
</li>
<li><a href="#org6ba45e2">1.5. org-mode 表格的创建</a></li>
<li><a href="#orgda759aa">1.6. emacslisp 调试</a></li>
<li><a href="#orgc29b39c">1.7. 优化 emacs 启动时间</a>
<ul>
<li><a href="#org509823c">1.7.1. 查看 <code>benchmarking</code> 信息</a></li>
<li><a href="#org0476d46">1.7.2. 问题</a></li>
<li><a href="#org952b91f">1.7.3. 优化</a>
<ul>
<li><a href="#org0805d13">init-elpa</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org319b592" class="outline-2">
<h2 id="org319b592"><span class="section-number-2">1.</span> 配置emacs</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org06b884c" class="outline-3">
<h3 id="org06b884c"><span class="section-number-3">1.1.</span> 配置 evil 插入模式快捷键</h3>
<div class="outline-text-3" id="text-1-1">
<p>
参照论坛大佬配置:
参考链接: <a href="https://emacs-china.org/t/topic/5241/7?u=xiliuya">evil 键绑定调整</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #eaeaea;">(</span><span style="color: #b9ca4a;">defun</span> <span style="color: #e78c45;">maple/define-key</span> <span style="color: #70c0b1;">(</span>keymap key def <span style="color: #c397d8;">&amp;rest</span> bindings<span style="color: #70c0b1;">)</span>
  <span style="color: #c397d8;">"Define multi keybind with KEYMAP KEY DEF BINDINGS."</span>
  <span style="color: #70c0b1;">(</span><span style="color: #b9ca4a;">interactive</span><span style="color: #70c0b1;">)</span>
  <span style="color: #70c0b1;">(</span><span style="color: #b9ca4a;">while</span> key
    <span style="color: #e7c547;">(</span>define-key keymap key def<span style="color: #e7c547;">)</span>
    <span style="color: #e7c547;">(</span><span style="color: #b9ca4a;">setq</span> key <span style="color: #b9ca4a;">(</span><span style="color: #b9ca4a;">pop</span> bindings<span style="color: #b9ca4a;">)</span>
          def <span style="color: #b9ca4a;">(</span><span style="color: #b9ca4a;">pop</span> bindings<span style="color: #b9ca4a;">)</span><span style="color: #e7c547;">)</span><span style="color: #70c0b1;">)</span><span style="color: #eaeaea;">)</span>

<span style="color: #eaeaea;">(</span>maple/define-key evil-insert-state-map
                  <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"M-h"</span><span style="color: #70c0b1;">)</span> <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"&lt;left&gt;"</span><span style="color: #70c0b1;">)</span>
                  <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"M-l"</span><span style="color: #70c0b1;">)</span> <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"&lt;right&gt;"</span><span style="color: #70c0b1;">)</span>
                  <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"M-j"</span><span style="color: #70c0b1;">)</span> <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"&lt;down&gt;"</span><span style="color: #70c0b1;">)</span>
                  <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"M-k"</span><span style="color: #70c0b1;">)</span> <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"&lt;up&gt;"</span><span style="color: #70c0b1;">)</span><span style="color: #eaeaea;">)</span>
</pre>
</div>
<p>
为了与 vim 一致使用上述绑定. 
同时因为pyim 绑定与 <code>M-j</code> 冲突已经换为 <code>M-'</code>
</p>
</div>
</div>
<div id="outline-container-org635c411" class="outline-3">
<h3 id="org635c411"><span class="section-number-3">1.2.</span> 配置 erc 使用</h3>
<div class="outline-text-3" id="text-1-2">
<p>
经过多次的粗心大意 终于按照 <a href="https://libera.chat/guides/emacs-erc">官方方案</a> 成功连到irc <del>但是好像不能正常查看消息</del> 是我太浮躁了
根据官网的教程 <code>erc-sasl</code> 下载文件并在 <code>init-local.el</code> 加入以下内容:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">&#37197;&#32622; erc</span>
<span style="color: #eaeaea;">(</span><span style="color: #b9ca4a;">require</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">erc-backend</span><span style="color: #eaeaea;">)</span>
<span style="color: #eaeaea;">(</span><span style="color: #b9ca4a;">require</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">erc-sasl</span><span style="color: #eaeaea;">)</span>
<span style="color: #eaeaea;">(</span>add-to-list <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">erc-sasl-server-regexp-list</span> <span style="color: #70c0b1;">"irc</span><span style="color: #e7c547;">\</span><span style="color: #c397d8;">\</span><span style="color: #70c0b1;">.libera</span><span style="color: #e7c547;">\</span><span style="color: #c397d8;">\</span><span style="color: #70c0b1;">.chat"</span><span style="color: #eaeaea;">)</span>
<span style="color: #eaeaea;">(</span><span style="color: #b9ca4a;">with-eval-after-load</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">erc</span>
  <span style="color: #70c0b1;">(</span><span style="color: #b9ca4a;">defun</span> <span style="color: #e78c45;">erc-login</span> <span style="color: #e7c547;">()</span>
    <span style="color: #c397d8;">"Perform user authentication at the IRC server. (PATCHED)"</span>
    <span style="color: #e7c547;">(</span>erc-log <span style="color: #b9ca4a;">(</span>format <span style="color: #70c0b1;">"login: nick: %s, user: %s %s %s :%s"</span>
                     <span style="color: #7aa6da;">(</span>erc-current-nick<span style="color: #7aa6da;">)</span>
                     <span style="color: #7aa6da;">(</span>user-login-name<span style="color: #7aa6da;">)</span>
                     <span style="color: #7aa6da;">(</span><span style="color: #b9ca4a;">or</span> erc-system-name <span style="color: #eaeaea;">(</span>system-name<span style="color: #eaeaea;">)</span><span style="color: #7aa6da;">)</span>
                     erc-session-server
                     erc-session-user-full-name<span style="color: #b9ca4a;">)</span><span style="color: #e7c547;">)</span>
    <span style="color: #e7c547;">(</span><span style="color: #b9ca4a;">if</span> erc-session-password
        <span style="color: #b9ca4a;">(</span>erc-server-send <span style="color: #7aa6da;">(</span>format <span style="color: #70c0b1;">"PASS %s"</span> erc-session-password<span style="color: #7aa6da;">)</span><span style="color: #b9ca4a;">)</span>
      <span style="color: #b9ca4a;">(</span>message <span style="color: #70c0b1;">"Logging in without password"</span><span style="color: #b9ca4a;">)</span><span style="color: #e7c547;">)</span>
    <span style="color: #e7c547;">(</span><span style="color: #b9ca4a;">when</span> <span style="color: #b9ca4a;">(</span><span style="color: #b9ca4a;">and</span> <span style="color: #7aa6da;">(</span><span style="color: #b9ca4a;">featurep</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">erc-sasl</span><span style="color: #7aa6da;">)</span> <span style="color: #7aa6da;">(</span>erc-sasl-use-sasl-p<span style="color: #7aa6da;">)</span><span style="color: #b9ca4a;">)</span>
      <span style="color: #b9ca4a;">(</span>erc-server-send <span style="color: #70c0b1;">"CAP REQ :sasl"</span><span style="color: #b9ca4a;">)</span><span style="color: #e7c547;">)</span>
    <span style="color: #e7c547;">(</span>erc-server-send <span style="color: #b9ca4a;">(</span>format <span style="color: #70c0b1;">"NICK %s"</span> <span style="color: #7aa6da;">(</span>erc-current-nick<span style="color: #7aa6da;">)</span><span style="color: #b9ca4a;">)</span><span style="color: #e7c547;">)</span>
    <span style="color: #e7c547;">(</span>erc-server-send
     <span style="color: #b9ca4a;">(</span>format <span style="color: #70c0b1;">"USER %s %s %s :%s"</span>
             <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">hacked - S.B.</span>
             <span style="color: #7aa6da;">(</span><span style="color: #b9ca4a;">if</span> erc-anonymous-login erc-email-userid <span style="color: #eaeaea;">(</span>user-login-name<span style="color: #eaeaea;">)</span><span style="color: #7aa6da;">)</span>
             <span style="color: #70c0b1;">"0"</span> <span style="color: #70c0b1;">"*"</span>
             erc-session-user-full-name<span style="color: #b9ca4a;">)</span><span style="color: #e7c547;">)</span>
    <span style="color: #e7c547;">(</span>erc-update-mode-line<span style="color: #e7c547;">)</span><span style="color: #70c0b1;">)</span>
  <span style="color: #eaeaea;">)</span>
<span style="color: #eaeaea;">(</span><span style="color: #b9ca4a;">setq</span> erc-autojoin-channels-alist
      <span style="color: #b9ca4a;">'</span><span style="color: #70c0b1;">(</span><span style="color: #e7c547;">(</span>Libera.Chat <span style="color: #70c0b1;">"#libera"</span> <span style="color: #70c0b1;">"#list"</span> <span style="color: #70c0b1;">"#linux"</span> <span style="color: #70c0b1;">"$emacs"</span><span style="color: #e7c547;">)</span><span style="color: #70c0b1;">)</span><span style="color: #eaeaea;">)</span>


<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(erc-tls :server "irc.libera.chat" :port 6697 :nick "xiliuya"</span>
<span style="color: #969896; font-style: italic;">;;          </span><span style="color: #969896; font-style: italic;">:full-name "xiliuya"</span>
<span style="color: #969896; font-style: italic;">;;          </span><span style="color: #969896; font-style: italic;">:password "")</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1985778" class="outline-3">
<h3 id="org1985778"><span class="section-number-3">1.3.</span> 配置 org-roam 关联笔记</h3>
<div class="outline-text-3" id="text-1-3">
<p>
相关链接: <a href="https://www.zmonster.me/2020/06/27/org-roam-introduction.html">org-roam 配置</a>
经过翻阅官方的文档进行以下配置, 加入 <code>init-local.el</code> :
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #eaeaea;">(</span>require-package <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">org-roam</span><span style="color: #eaeaea;">)</span>
<span style="color: #eaeaea;">(</span>require-package <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">org-roam-server</span><span style="color: #eaeaea;">)</span>

<span style="color: #eaeaea;">(</span>global-set-key <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"C-c n l"</span><span style="color: #70c0b1;">)</span>  <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">org-roam-buffer-toggle</span><span style="color: #eaeaea;">)</span>
<span style="color: #eaeaea;">(</span>global-set-key <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"C-c n g"</span><span style="color: #70c0b1;">)</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">org-roam-graph</span><span style="color: #eaeaea;">)</span>
<span style="color: #eaeaea;">(</span>global-set-key <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"C-c n i"</span><span style="color: #70c0b1;">)</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">org-roam-node-insert</span><span style="color: #eaeaea;">)</span>
<span style="color: #eaeaea;">(</span>global-set-key <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"C-c n c"</span><span style="color: #70c0b1;">)</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">org-roam-capture</span><span style="color: #eaeaea;">)</span>
<span style="color: #eaeaea;">(</span>global-set-key <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"C-c n j"</span><span style="color: #70c0b1;">)</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">org-roam-dailies-capture-today</span><span style="color: #eaeaea;">)</span>

<span style="color: #eaeaea;">(</span>global-set-key <span style="color: #70c0b1;">(</span>kbd <span style="color: #70c0b1;">"C-c n d"</span><span style="color: #70c0b1;">)</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">org-id-get-create</span><span style="color: #eaeaea;">)</span>

<span style="color: #eaeaea;">(</span><span style="color: #b9ca4a;">setq</span> org-roam-directory <span style="color: #70c0b1;">"~/myday"</span><span style="color: #eaeaea;">)</span>
<span style="color: #eaeaea;">(</span><span style="color: #b9ca4a;">setq</span> org-roam-node-display-template
      <span style="color: #70c0b1;">(</span>concat <span style="color: #70c0b1;">"${title:*} "</span>
              <span style="color: #e7c547;">(</span>propertize <span style="color: #70c0b1;">"${tags:10}"</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">face</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">org-tag</span><span style="color: #e7c547;">)</span><span style="color: #70c0b1;">)</span><span style="color: #eaeaea;">)</span>
<span style="color: #eaeaea;">(</span>org-roam-db-autosync-mode<span style="color: #eaeaea;">)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">If using org-roam-protocol</span>
<span style="color: #eaeaea;">(</span><span style="color: #b9ca4a;">require</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">org-roam-protocol</span><span style="color: #eaeaea;">)</span>


<span style="color: #eaeaea;">(</span><span style="color: #b9ca4a;">setq</span> find-file-visit-truename t<span style="color: #eaeaea;">)</span>

<span style="color: #eaeaea;">(</span><span style="color: #b9ca4a;">setq</span> org-roam-ui-sync-theme t
      org-roam-ui-follow t
      org-roam-ui-update-on-save t
      org-roam-ui-open-on-start t<span style="color: #eaeaea;">)</span>
</pre>
</div>
</div>
<div id="outline-container-org30f48cb" class="outline-4">
<h4 id="org30f48cb"><span class="section-number-4">1.3.1.</span> 基本使用</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
通过 <code>M-x org-id-get-create</code> 给现有的小标题生成一个 node id. 
通过 <code>M-x org-roam-db-sync</code> 刷新数据库. 
通过 <code>M-x org-roam-ui-mode</code> 启动一个本地服务器, 并打开一个浏览器窗口.
</p>
</div>
</div>
<div id="outline-container-org4661c1c" class="outline-4">
<h4 id="org4661c1c"><span class="section-number-4">1.3.2.</span> 功能理解</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
一款酷炫的插件, 可以简单而美观的管理众多的笔记. 
基于 <code>org-mode</code> 简化新建日志的步骤. 
便于梳理笔记形成可视化图像. 
极大简化了查找笔记的时间成本. 
易于翻阅加深记忆. 
</p>
</div>
</div>
</div>
<div id="outline-container-org9501908" class="outline-3">
<h3 id="org9501908"><span class="section-number-3">1.4.</span> 配置 espeak 朗读</h3>
<div class="outline-text-3" id="text-1-4">
</div>
<div id="outline-container-orgb7c6f91" class="outline-4">
<h4 id="orgb7c6f91"><span class="section-number-4">1.4.1.</span> 修改配置</h4>
<div class="outline-text-4" id="text-1-4-1">
<p>
在 init-local.el 加入如下配置:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">&#37197;&#32622;&#20462;&#22797; espeak &#20351;&#29992;&#26102;&#20986;&#29616;&#30340;&#30333;&#23631;</span>
<span style="color: #eaeaea;">(</span><span style="color: #b9ca4a;">with-eval-after-load</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">sdcv</span>
  <span style="color: #70c0b1;">(</span><span style="color: #b9ca4a;">defun</span> <span style="color: #e78c45;">sdcv-search-simple</span> <span style="color: #e7c547;">(</span><span style="color: #c397d8;">&amp;optional</span> word<span style="color: #e7c547;">)</span>
    <span style="color: #c397d8;">"search word simple translate result."</span>
    <span style="color: #e7c547;">(</span>funcall
     sdcv-popup-function
     <span style="color: #b9ca4a;">(</span>sdcv-filter
      <span style="color: #7aa6da;">(</span>shell-command-to-string
       <span style="color: #eaeaea;">(</span>mapconcat <span style="color: #b9ca4a;">#'</span><span style="color: #7aa6da;">identity</span>
                  <span style="color: #70c0b1;">(</span>cons <span style="color: #70c0b1;">"sdcv"</span> <span style="color: #e7c547;">(</span>sdcv-search-with-dictionary-args
                                <span style="color: #b9ca4a;">(</span><span style="color: #b9ca4a;">or</span> word <span style="color: #eaeaea;">(</span>sdcv-region-or-word<span style="color: #eaeaea;">)</span><span style="color: #b9ca4a;">)</span>
                                sdcv-dictionary-simple-list<span style="color: #e7c547;">)</span><span style="color: #70c0b1;">)</span>
                  <span style="color: #70c0b1;">" "</span><span style="color: #eaeaea;">)</span><span style="color: #7aa6da;">)</span><span style="color: #b9ca4a;">)</span><span style="color: #e7c547;">)</span>

    <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">pronounce the word (add by me)</span>
    <span style="color: #e7c547;">(</span><span style="color: #b9ca4a;">when</span> sdcv-word-pronounce
      <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">`</span><span style="color: #7aa6da; font-style: italic;">sleep-for</span><span style="color: #969896; font-style: italic;">', `</span><span style="color: #7aa6da; font-style: italic;">sit-for</span><span style="color: #969896; font-style: italic;">'.</span>
      <span style="color: #b9ca4a;">(</span>sit-for 0.8<span style="color: #b9ca4a;">)</span>
      <span style="color: #b9ca4a;">(</span>sdcv-pronounce-word word<span style="color: #b9ca4a;">)</span>
      <span style="color: #e7c547;">)</span>
    <span style="color: #70c0b1;">)</span>
  <span style="color: #eaeaea;">)</span>
</pre>
</div>
<p>
调试的代码:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">&#19979;&#26041;&#26159;&#35843;&#35797;&#20449;&#24687; &#19981;&#21152;&#20837;&#37197;&#32622;</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(setq sdcv-word-pronounce 'nil)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(setq sdcv-word-pronounce 't)</span>

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(defun sdcv-search-pointer+ ()</span>
<span style="color: #969896; font-style: italic;">;;   </span><span style="color: #969896; font-style: italic;">"translate current point word.</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">and show information use tooltip.</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">but this function use a simple dictionary list."</span>
<span style="color: #969896; font-style: italic;">;;   </span><span style="color: #969896; font-style: italic;">(interactive)</span>
<span style="color: #969896; font-style: italic;">;;   </span><span style="color: #969896; font-style: italic;">(let ((word (sdcv-region-or-word)))</span>
<span style="color: #969896; font-style: italic;">;;     </span><span style="color: #969896; font-style: italic;">;; display simple translate result.</span>
<span style="color: #969896; font-style: italic;">;;     </span><span style="color: #969896; font-style: italic;">(sdcv-search-simple word)</span>
<span style="color: #969896; font-style: italic;">;;     </span><span style="color: #969896; font-style: italic;">(sit-for 1)</span>
<span style="color: #969896; font-style: italic;">;;     </span><span style="color: #969896; font-style: italic;">(sdcv-pronounce-word word)</span>
<span style="color: #969896; font-style: italic;">;;     </span><span style="color: #969896; font-style: italic;">))</span>


</pre>
</div>
</div>
</div>
<div id="outline-container-org8c83b05" class="outline-4">
<h4 id="org8c83b05"><span class="section-number-4">1.4.2.</span> 实际分析</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
由于 <code>sleep-for</code> 函数的未知原因导致, 使用 <code>sit-for</code> 可以解决
建议多看一些备注信息, 有时可以快速排查问题
</p>
</div>
</div>
</div>
<div id="outline-container-org6ba45e2" class="outline-3">
<h3 id="org6ba45e2"><span class="section-number-3">1.5.</span> org-mode 表格的创建</h3>
<div class="outline-text-3" id="text-1-5">
<p>
参考链接: <a href="https://www.zmonster.me/2016/06/03/org-mode-table.html">表格的基本操作</a>
表格里有很多有趣的内容, 当前仅了解必要的几个键位, 真正用时再去折腾
手动生成表格 <code>| xx|xx|bb| &lt;TAB&gt;</code>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">xx</th>
<th scope="col" class="org-left">xx</th>
<th scope="col" class="org-left">bb</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
<p>
从已有数据转换 <code>C-c |</code>
</p>
<pre class="example" id="org2e0bf41">
h,b,c,d
8,9,10
13,8,9
</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">h</th>
<th scope="col" class="org-right">b</th>
<th scope="col" class="org-right">c</th>
<th scope="col" class="org-left">d</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">8</td>
<td class="org-right">9</td>
<td class="org-right">10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-right">13</td>
<td class="org-right">8</td>
<td class="org-right">9</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
<p>
转换后自动添加水平分隔线 <code>C-c -</code> 可以在光标的下一行插入
</p>
</div>
</div>
<div id="outline-container-orgda759aa" class="outline-3">
<h3 id="orgda759aa"><span class="section-number-3">1.6.</span> emacslisp 调试</h3>
<div class="outline-text-3" id="text-1-6">
<p>
通过在函数定义处使用 <code>m-x edebug-defun</code> 进入 edebug 模式 .
未深入去研究, 只做简单记录.
</p>

<p>
参考链接: <a href="https://www.codenong.com/3257480/">如何调试elisp</a> .
</p>
</div>
</div>
<div id="outline-container-orgc29b39c" class="outline-3">
<h3 id="orgc29b39c"><span class="section-number-3">1.7.</span> 优化 emacs 启动时间</h3>
<div class="outline-text-3" id="text-1-7">
</div>
<div id="outline-container-org509823c" class="outline-4">
<h4 id="org509823c"><span class="section-number-4">1.7.1.</span> 查看 <code>benchmarking</code> 信息</h4>
<div class="outline-text-4" id="text-1-7-1">
<p>
通过 <code>M-x sanityinc/require-time</code> 查看启动时间详情
</p>
</div>
</div>
<div id="outline-container-org0476d46" class="outline-4">
<h4 id="org0476d46"><span class="section-number-4">1.7.2.</span> 问题</h4>
<div class="outline-text-4" id="text-1-7-2">
<p>
问题主要在 <code>org-mode</code> 暂时没有较好的解决方案
按照时间排序输出如下:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">start_time</th>
<th scope="col" class="org-left">Feature</th>
<th scope="col" class="org-right">Time</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">83036.907</td>
<td class="org-left">ol-gnus</td>
<td class="org-right">2618.484</td>
</tr>

<tr>
<td class="org-right">83079.567</td>
<td class="org-left">gnus-sum</td>
<td class="org-right">2073.966</td>
</tr>

<tr>
<td class="org-right">83354.692</td>
<td class="org-left">gnus-group</td>
<td class="org-right">1536.641</td>
</tr>

<tr>
<td class="org-right">83401.804</td>
<td class="org-left">gnus-start</td>
<td class="org-right">1443.971</td>
</tr>

<tr>
<td class="org-right">2241.952</td>
<td class="org-left">init-local</td>
<td class="org-right">1282.597</td>
</tr>

<tr>
<td class="org-right">83490.073</td>
<td class="org-left">gnus-int</td>
<td class="org-right">910.991</td>
</tr>

<tr>
<td class="org-right">83533.981</td>
<td class="org-left">message</td>
<td class="org-right">822.331</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org952b91f" class="outline-4">
<h4 id="org952b91f"><span class="section-number-4">1.7.3.</span> 优化</h4>
<div class="outline-text-4" id="text-1-7-3">
</div>
<div id="outline-container-org0805d13" class="outline-5">
<h5 id="org0805d13">init-elpa</h5>
<div class="outline-text-5" id="text-org0805d13">
<p>
修改镜像源配置内容:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #eaeaea;">(</span><span style="color: #b9ca4a;">with-eval-after-load</span> <span style="color: #b9ca4a;">'</span><span style="color: #7aa6da;">init-elpa</span>
  ...<span style="color: #eaeaea;">)</span>
<span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">&#37197;&#32622;&#28304;&#22312; init-elpa &#21152;&#36733;&#21518;&#35206;&#30422;</span>
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">&#20316;&#32773;: <a href="https://xiliuya.github.io/">xiliuya</a></p>
<p class="date">Created: 2022-12-04 日 21:36</p>
</div>
</body>
</html>